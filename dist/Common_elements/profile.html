<script src="https://code.jquery.com/jquery-1.11.1.min.js"></script>
<script src="https://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.js"></script>

<script>
$(document).ready(function() {
        
    $('#added-pet').hide();
    $('#inbox-btn').click(function(e){
        e.preventDefault();
          $('#content').load('https://pet-temp-host.web.app/Common_elements/inbox.html');
          var header_text = e.target.name;
          $('#headerText').html(header_text);
    });

    $('#edit-btn').on('click', function(e) {
        e.preventDefault();
        if ($(this).html() === "EDIT") {
            $('.basic-info-txt').attr('disabled', false);
            $('.basic-info-txt').closest('div').removeClass('ui-state-disabled');
            $(this).html('SAVE')
        }
        else if ($(this).html() === "SAVE") {
            $('.basic-info-txt').attr('disabled', true);
            $('.basic-info-txt').addClass('disable-style');
            $(this).html('EDIT')
        }
        
    }).trigger('click');

    $('#moments-btn').click(function(e) {
          e.preventDefault();
          $('#content').load('https://pet-temp-host.web.app/Common_elements/moments.html');
          var header_text = e.target.name;
          $('#headerText').html(header_text);
    });
   
    $('#add-btn').click(function() {
        var age = $('#petage').val();
        var name = $('#petname').val();
        var weight = $('#petweight').val();
                    
        const addedPetData = {
            age: age,
            name: name,
            weight: weight,
        }
        window.localStorage.setItem('addedPetData', JSON.stringify(addedPetData));
        $('#add-pet').popup("close");

        $('#added-name').text(name);
        $('#added-age').text(age);
        $('#added-weight').text(weight);

        $('#added-pet').css('display','block');
    });


        $('#view-fav-btn').click(function(e) {
          e.preventDefault();
          $('#content').load('https://pet-temp-host.web.app/Common_elements/favourites.html');
          var header_text = e.target.name;
          $('#headerText').html(header_text);

        });

});

$('#add-pet-btn').click(function(e) {
    e.preventDefault();
    $('#add-pet').popup("open");
});

$('#cancel-pet-btn').click(function(e) {
    e.preventDefault();
    $('#add-pet').popup("close");
});

$('#sign-out-btn').click(function(){
   window.location.href='https://pet-temp-host.web.app/Common_elements/login.html';
    });
   

function readURL(input) {
    
    $('#default-upload-img').hide();
            if (input.files && input.files[0]) {
                var reader = new FileReader();

                reader.onload = function (e) {
                    $('#uploaded-img')
                        .attr('src', e.target.result)
                        .width(70)
                        .height(70);
                    $('#added-img')
                        .attr('src', e.target.result)
                        .width(80)
                        .height(90);
                };
                reader.readAsDataURL(input.files[0]);

            }
        }

</script>

<style>
.fileinput-button {
  position: relative;
  overflow: hidden;
  float: left;
  margin-right: 4px;
  padding: 5px !important;
    margin-top: 55px !important;
    background-color: transparent;
    color: lightblue;
    background-color: transparent;
    border: 1px solid lightblue;
}

.fileinput-button input {
  position: absolute;
  top: 0;
  right: 0;
  margin: 0;
  opacity: 0;
  filter: alpha(opacity=0);
  transform: translate(-300px, 0) scale(4);
  font-size: 23px;
  direction: ltr;
  cursor: pointer;
}

</style>

<div data-role="popup" id="add-pet" style="width: 300px;height: 400px;margin-top: -100px;text-align: center;position: relative;border-radius:0px;" class="succes-pop-up ui-popup ui-body-inherit ui-overlay-shadow ui-corner-all">
    <div style="position: absolute;width: 300px;height: 25px;left: -1px;top: -1px;background: #14C2F3;border-radius: 0px;">
        <p style="color: white; margin: 0;">Add New Pet</p>
        <img id="close_popup" src="../images/close_btn.png" alt="" style="width: 20px;position: absolute;left: 92%;top: 10%;">
    </div>
    <div style="position: absolute;width: 270.5px;height: 276.01px;left: 14px;top: 68px;/* background: #F5F4F4; *//* border-radius: 10px; */">
        <img id="uploaded-img" src="#" style="position:absolute;width: 70px;height: 70px;left: 10px;top: -8%;border: 1px solid black;border-radius: 10px;padding: 5px 5px 5px 10px;clear: both;"/>
        <img id="default-upload-img" src="../images/upload-pet-img.png" style="position:absolute;width: 70px;height: 70px;left: 10px;top: -8%;border: 1px solid black;border-radius: 10px;padding: 5px 5px 5px 10px;clear: both;">

    <span class="ui-btn ui-icon-plus ui-btn-icon-left ui-corner-all fileinput-button" data-role="button" >
        <span>Upload</span>
        <input type="file" name="files[]" onchange="readURL(this);" multiple data-role="none"/>
    </span>


    <div aria-hidden="false" style="
    width: 55%;
    text-align: left;
    margin-left: auto;
    top: 15px;
    position: initial;
    margin-top: -25px;">
            
            <label class="label-basic-info" for="fname">PET NAME</label> 
                    <input style="border-color: #000000" type="text" name="fname" id="petname" placeholder="Enter Pet Name">
            <label class="label-basic-info" for="email">PET AGE</label> 
                    <input style="border-color: #000000" type="email" name="email" id="petage" placeholder="Enter Pet Age">
            <label class="label-basic-info" for="phone_n">PET GENDER</label> 
                    <input style="border-color: #000000" type="text" name="phone_n" id="petgender" placeholder="Enter Pet Gender">
            <label class="label-basic-info" for="location">PET WEIGHT</label>
                    <input style="border-color: #000000" type="text" name="location" id="petweight" placeholder="Enter Pet Weight">
            <button id="add-btn" style="
                    width: 100px;
                    position: relative;
                    left: 26px;
                    top: 5px;
                    font-size: 12px;
                    clear: both;
                    " class=" ui-btn ui-shadow ui-corner-all">ADD</button>
            <button id="cancel-pet-btn" style="
                    width: 100px;
                    position: relative;
                    left: -100px;
                    top: -40px;
                    font-size: 12px;
                    float: left;
                    " class=" ui-btn ui-shadow ui-corner-all">CANCEL</button>

        </div>
    </div>

</div>

<div class="background-container">
    <div style="width: 100%;">

        <div style="width: 100%;height: 239px;">
            <img src="../images/profile_background.jpg" alt="" style="width: 100%;height: 100%; display: block;">
        </div>
        <div style="width: 86%;height:200px;box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);position: absolute;top: 131px;
        right: 7%;">
            <div style="display: inline;float: left;width: 40%;">
                <img id="profile_pic_image" src="../images/caretaker_profile_picture.jpg" alt="" style="max-width: 100%;height: 200px;">
            </div>
            <div style="display: inline;float: left;width: 60%;height: 100%;background-color: white;">
                <p style="margin-left: 20px;font-weight: bold;">Sarah Hyland</p>
                <div style="display: inline;border: 2px solid #FFEB38;padding: 1px;border-radius: 10px;background-color: black;color: white;position: relative;top: -14px;left: 19px;">
                    <img src="../images/star.png" alt="" style="width: 45px;margin-left: -13px;margin-bottom: 4px;padding: 5px;">
                    <p id="profile-rating" style="display: inline;margin-left: -20px;padding: 3px;position: relative;font-size: 10px;top: -3px;margin-right: 2px;">3.5</p>
                </div>
                <div style="position: relative;top: -25px;">
                    <p style="margin-left: 20px;font-size: 14px;">ABOUT</p>
                    <p style="margin-left: 20px;font-size: 11px;margin-top: -10px;">I have a beautiful black cat.</p>
                    <a href="" style="margin-left: 20px;font-size: 10px;color: red;text-decoration: none;position: relative;top: -10px;">Read More</a>
                </div>
                <button id="view-fav-btn" name="Favourites" style="width: 165px;font-size: 12px;position: relative;top: -32px;background-color: #FF2548;border: none;left: 14px;"><img src="../images/heart icon.png" alt="" style="width: 25px;
                    margin-right: 10px;
                    margin-top: -5px;">MY FAVOURITES</button>
                    <a href="" style="position: relative;
                    top: -293px;
                    font-size: 12px;
                    font-weight: bold;
                    text-decoration: none;
                    color: #9C0A0A;
                    left: 134px;
                    text-shadow: 1px 0 white;" id="sign-out-btn">Sign Out</a>
            </div>
        </div>      
    </div>

    <div style="width: 100%;
    margin-top: 58px;
    position: absolute;
    left: 4.5%;">
        <button id="inbox-btn" style="display: inline;
        width: 45%;" name="I N B O X"><img src="../images/icons8-secured-letter-100 (2).png" alt="" style="width: 30px;margin-right: 20px;">INBOX</button>
        <button id="moments-btn" style="display: inline;
        width: 45%;" name="M O M E N T S"><img src="../images/icons8-image-100.png" alt="" style="width: 30px;margin-right: 20px;">   MOMENTS</button>
    </div>
    <div style="position: relative;top: 124px;width: 100%;left: 0.5%;">
        <div data-role="collapsible" style="display: inline-block;width: 100%;">
            <h4>BASIC INFORMATION</h4>
            <label class="label-basic-info" for="fname">Full Name</label> 
                <input class="basic-info-txt" type="text" name="fname" id="full_name" value="Sarah Hyland" placeholder="Full Name" />
            <label class="label-basic-info" for="email">Email Address</label> 
                <input class="basic-info-txt" type="email" name="email" id="email" value="sarah@gmail.com" placeholder="Email Address" />
            <label class="label-basic-info" for="phone_n">Phone Number</label> 
                <input class="basic-info-txt" type="text" name="phone_n" id="phone_n" value="206 555-1212" placeholder="Phone Number" />
            <label class="label-basic-info" for="location">Location</label>
                <input class="basic-info-txt" type="text" name="location" id="location" value="New York, USA" placeholder="Location" />
            <button id="edit-btn" style="width: 100px;
            position: relative;
            left: 226px;
            top: 5px;
            font-size: 12px;">SAVE</button>

        </div>
        <div data-role="collapsible" style="display: inline-block;width: 100%;">
            <h4>MY PETS</h4>
           <div style="display: block;
        box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);
        border-radius: 5px;
        height: 88px;">
            <div style="width: 80px;
            display: inline;">
                <img src="../images/black-cat-dolly.jpg" alt="" style="width: 80px;
                border-radius: 5px;">
            </div>
            <div style="display: inline;
            width: 200px;
            font-size: 12px;
            position: relative;
            float: right;
            left: -30px;
            top: -10px;">
                <p style="font-size: 13px;
                font-weight: bold;">DOLLY</p>
                <p>Age : 3 years</p>
                <p>I love wiskers a lot</p>
            </div>
            <div style="position: relative;
            top: -88px;
            left: 255px;">
                <button style="width: 30px;
                padding: 2px;
                height: 30px;
                display: inline;"><img src="../images/eye-icon.png" alt="" style="width: 20px;"></button>
                <button style="width: 30px;
                height: 30px;
                padding: 2px;
                display: inline;"><img src="../images/edit-icon.png" alt="" style="width: 20px;"></button>
            </div>
        </div>

           <div style="display: block;
        box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);
        border-radius: 5px;
        height: 88px;">
            <div style="width: 80px;
            display: inline;">
                <img src="../images/gray-cat.jpg" alt="" style="width: 80px;
                border-radius: 5px;height: 90px;">
            </div>
            <div style="display: inline;
            width: 200px;
            font-size: 12px;
            position: relative;
            float: right;
            left: -30px;
            top: -10px;">
                <p style="font-size: 13px;
                font-weight: bold;">MARY</p>
                <p>Age : 6 months</p>
                <p>I love cuddles</p>
            </div>
            <div style="position: relative;
            top: -88px;
            left: 255px;">
                <button style="width: 30px;
                padding: 2px;
                height: 30px;
                display: inline;"><img src="../images/eye-icon.png" alt="" style="width: 20px;"></button>
                <button style="width: 30px;
                height: 30px;
                padding: 2px;
                display: inline;"><img src="../images/edit-icon.png" alt="" style="width: 20px;"></button>
            </div>
        </div>

        <div id="added-pet" style="    display: block;
        box-shadow: rgba(0, 0, 0, 0.2) 0px 4px 8px 0px, rgba(0, 0, 0, 0.19) 0px 6px 20px 0px;
        border-radius: 5px;
        height: 88px;
        position: relative;
        top: 21px;
        margin-bottom: 30px;">
            <div style="width: 80px;
            display: inline;">
                <img id="added-img" src="#" alt="" style="width: 80px;
                border-radius: 5px;height: 90px;">
            </div>
            <div style="display: inline;
            width: 200px;
            font-size: 12px;
            position: relative;
            float: right;
            left: -30px;
            top: -99px;">
                <p id="added-name" style="font-size: 13px;
                font-weight: bold;"></p>
                <p>Age : <span id="added-age"></span></p>
                <p>Weight : <span id="added-weight"></span></p>
            </div>
            <div style="position: relative;
            top: -88px;
            left: 255px;">
                <button style="width: 30px;
                padding: 2px;
                height: 30px;
                display: inline;"><img src="../images/eye-icon.png" alt="" style="width: 20px;"></button>
                <button style="width: 30px;
                height: 30px;
                padding: 2px;
                display: inline;"><img src="../images/edit-icon.png" alt="" style="width: 20px;"></button>
            </div>
        </div>

        <button id="add-pet-btn" style="width: 100px;
        position: relative;
        left: 226px;
        top: 5px;
        font-size: 12px;">ADD PETS</button>
        </div>
        <div data-role="collapsible" style="display: inline-block;width: 100%;" class="rewards">
            <h4>REWARDS</h4>
            <p style="text-align: center;">Redeem your REWARDS today!!!</p>
            <div style="margin-left: 50px;margin-top: -20px;" class="div-before">
                <div style="font-size: 80px;font-weight: bold;display: inline;" class="div-within">90</div>
                <div style="display: inline;"><img src="../images/icons8-dog-paw-print-100.png" alt="" style="margin-top: -60px;margin-left: -10px;"></div>
            </div>
            <p style="text-align: center;margin-top: -10px;">Happy Paws Balance</p>
            <script type="text/javascript">
                $(".pointsbar li:nth-child(4)").addClass('before-pro');
                var textData = localStorage.getItem("point_array");
                var data_points = JSON.parse(textData);
                var total_points = 0
                for(var i in data_points) {
                    total_points += data_points[i] << 0;
                }
                var received_points = parseFloat($('.rewards .div-before').find('div.div-within').text()) + parseFloat(total_points);
                $('.rewards .div-before').find('div.div-within').html(received_points);
                if(textData != null)
                {
                    $(".pointsbar li:nth-child(4)").removeClass('before-pro');
                    $(".pointsbar li:nth-child(4)").addClass('new-pro');
                }

                $('.redeem_btn_points').click(function() {
                $('#redeems').popup("open");         
                });

                $('#bok').click(function() {
                    window.location.href = 'https://pet-temp-host.web.app/Common_elements/ordering.html';     
                });
                
            </script>
            <div class="progress" style="width: 100%;" data-value="10">
                <ul class="pointsbar">
                    <li class="active">25</li>
                    <li class="active">50</li>
                    <li class="active">75</li>
                    <li>100</li>
                    <li>125</li>
                </ul>
            </div>
            <div style="background-color: #F5F5F5;margin-top: 100px;width: 346px;margin-left: -14px;height: 230px;">
                <p style="text-align: center;padding-top: 20px;">Rewards you can earn with happy paws</p>
                <table class="reward_details">
                    <tr>
                        <td>25</td>
                        <td class="image-column"><img src="../images/icons8-dog-paw-print-100.png" alt=""></td>
                        <td>Free bath for your pet.</td>
                    </tr>
                    <tr>
                        <td>50</td>
                        <td class="image-column"><img src="../images/icons8-dog-paw-print-100.png" alt=""></td>
                        <td>Two free walks for the pet.</td>
                    </tr>
                    <tr>
                        <td>75</td>
                        <td class="image-column"><img src="../images/icons8-dog-paw-print-100.png" alt=""></td>                    
                        <td>Free haircut for your pet.</td>
                    </tr>
                    <tr>
                        <td>100</td>
                        <td class="image-column"><img src="../images/icons8-dog-paw-print-100.png" alt=""></td>
                        <td>Free traning for the pet.</td>
                    </tr>
                    <tr>
                        <td>125</td>
                        <td class="image-column"><img src="../images/icons8-dog-paw-print-100.png" alt=""></td>
                        <td>Free spa for a day for your pet.</td>                        
                    </tr>
                </table>
            </div>

            <div>
                <p style="text-align: center;font-weight: bold;">Available REWARDS</p>
                <div style="border: 7px solid white;background-color: #C5F0FC;border-radius: 35px;width: 275px;margin: auto;height: 275px;box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);">
                    <p style="text-align: center;font-weight: bold;">FREE BATH</p>
                    <img src="../images/dog_bath.png" alt="" style="margin: auto;width: 100px;display: block;">
                    <div style="margin-top: 10px;text-align: center;margin: auto">
                        <p class="gammification_progress_text" style="color: black !important;">25</p>
                        <img src="../images/icons8-dog-paw-print-100.png" alt="Happy Paw Points" style="display: inline;width: 20px;height: 20px;margin-bottom: 5px;">
                    </div>
                    <button class="redeem_btn_points" style="width: 150px;margin: auto;">REDEEM</button>
                </div>

                <div style="border: 7px solid white;background-color: #C5F0FC;border-radius: 35px;width: 275px;margin: auto;height: 275px;box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);margin-top: 20px;">
                    <p style="text-align: center;font-weight: bold;">TWO FREE WALKS</p>
                    <img src="../images/dog_walking.png" alt="" style="margin: auto;width: 180px;display: block;">
                    <div style="margin-top: 10px;text-align: center;margin: auto">
                        <p class="gammification_progress_text" style="color: black !important;">50</p>
                        <img src="../images/icons8-dog-paw-print-100.png" alt="Happy Paw Points" style="display: inline;width: 20px;height: 20px;margin-bottom: 5px;">
                    </div>
                    <button class="redeem_btn_points" style="width: 150px;margin: auto;">REDEEM</button>
                </div>
            </div>

        </div>
         <!--favourites pop up-->
    <div data-role="popup" id="redeems" style="width: 300px;height: 230px;margin-top: -100px;text-align: center;position: relative;" class="succes-pop-up">
        <p style="color:#5BD4F6;font-size: 25px;">Reward was Redeemed</p>
        <p>Please click below button to enjoy your free service</p>
        <button id="bok" style="display: inline;width: 120px;color: white;background-color: #FF8139 !important">BOOK</button>
      </div>
    </div>
    

</div>
